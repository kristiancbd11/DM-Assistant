package control;

import javafx.scene.control.TreeItem;
import javafx.scene.layout.StackPane;
import views.EscenaView;
import views.InfoView;
import views.ReinoView;
import views.UbicacionView;
import clases_partida.Criatura;
import clases_partida.Mundo;
import clases_partida.Nacion;
import clases_personaje.Personaje;

public class InfoController {

    private final InfoView infoView;
    
    public void cambiarVista(InfoViewType vistaTipo, TreeItem<Object> item) {
        StackPane nuevaVista = switch (vistaTipo) {
            case PERSONAJE -> {
                DesktopPersonajeController personajeController = new DesktopPersonajeController((Personaje) item.getValue());
                yield personajeController.getVista();
            }
            case CRIATURA -> {
            	DesktopCriaturaController criaturaController = new DesktopCriaturaController((Criatura) item.getValue());
            	yield criaturaController.getVista();
            }
            case NACION -> {
            	DesktopNacionController nacionController = new DesktopNacionController((Nacion) item.getValue());
            	yield nacionController.getVista();
            }
            case MUNDO -> {
            	DesktopMundoController mundoController = new DesktopMundoController((Mundo) item.getValue());
            	yield mundoController.getVista();
            }
            case REINO -> new ReinoView().crearView();
            case UBICACION -> new UbicacionView().crearView();
            case ESCENA -> new EscenaView().crearView();
            default -> null;
        };

        if (nuevaVista != null) {
            vista.setContenido(nuevaVista);
        } else {
            System.out.println("Vista desconocida o nula: " + vistaTipo);
        }
    }
    
    public InfoController(InfoView infoView) {
        this.infoView = infoView;
    }

    public void limpiarInformacion() {
        infoView.getInfoLabel().setText("Sin informaci√≥n.");
    }

    public InfoView getView() {
        return infoView;
    }
}
