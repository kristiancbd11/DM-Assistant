package views;

import dbhandlerCRUD.ClaseCRUD;
import dbhandlerCRUD.IdeologiaCRUD;
import dbhandlerCRUD.NacionCRUD;
import dbhandlerCRUD.RazaCRUD;
import dbhandlerCRUD.ReligionCRUD;
import javafx.collections.FXCollections;
import javafx.scene.control.*;
import javafx.scene.layout.GridPane;
import javafx.scene.layout.HBox;
import javafx.scene.layout.VBox;

import clases_partida.O_Nacion;
import clases_personaje.Ideologia;
import clases_personaje.Raza;
import clases_personaje.Religion;
import clases_roles.Clase;

public class CreationPersonajeView extends VBox {

    private TextField nombreField;
    private ComboBox<Raza> razaCombo;
    private TextField sexoField;
    private ComboBox<Religion> religionCombo;
    private ComboBox<O_Nacion> nacionCombo;
    private Spinner<Integer> edadSpinner;
    private ComboBox<Clase> claseCombo;
    private ListView<Ideologia> ideologiaList;
    private RazaCRUD razaCrud = new RazaCRUD();
    private ReligionCRUD religionCrud = new ReligionCRUD();
    private NacionCRUD nacionCrud = new NacionCRUD();
    private ClaseCRUD claseCrud = new ClaseCRUD();
    private IdeologiaCRUD ideologiaCrud = new IdeologiaCRUD();

    // Botones
    private Button btnCrear;
    private Button btnCancelar;

    public CreationPersonajeView() {
        setSpacing(10);
        Label title = new Label("Formulario de nuevo personaje");

        // Formulario de entrada
        GridPane form = new GridPane();
        form.setHgap(10);
        form.setVgap(10);

        nombreField = new TextField();
        sexoField = new TextField();
        edadSpinner = new Spinner<>(0, 150, 18);

        razaCombo = new ComboBox<>(FXCollections.observableArrayList(razaCrud.fetchAllRazas()));
        religionCombo = new ComboBox<>(FXCollections.observableArrayList(religionCrud.fetchAllReligiones()));
        nacionCombo = new ComboBox<>(FXCollections.observableArrayList(nacionCrud.fetchAllONaciones()));
        claseCombo = new ComboBox<>(FXCollections.observableArrayList(claseCrud.fetchAllClases()));

        ideologiaList = new ListView<>(FXCollections.observableArrayList(ideologiaCrud.fetchAllIdeologias()));
        ideologiaList.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);
        ideologiaList.setPrefHeight(100);

        form.add(new Label("Nombre:"), 0, 0);
        form.add(nombreField, 1, 0);
        form.add(new Label("Raza:"), 0, 1);
        form.add(razaCombo, 1, 1);
        form.add(new Label("Sexo:"), 0, 2);
        form.add(sexoField, 1, 2);
        form.add(new Label("Religión:"), 0, 3);
        form.add(religionCombo, 1, 3);
        form.add(new Label("Nación:"), 0, 4);
        form.add(nacionCombo, 1, 4);
        form.add(new Label("Edad:"), 0, 5);
        form.add(edadSpinner, 1, 5);
        form.add(new Label("Clase:"), 0, 6);
        form.add(claseCombo, 1, 6);
        form.add(new Label("Ideologías:"), 0, 7);
        form.add(ideologiaList, 1, 7);

        // Configurar los botones
        btnCrear = new Button("Crear");
        btnCancelar = new Button("Cancelar");

        // HBox para colocar los botones en una fila
        HBox buttonBox = new HBox(10, btnCrear, btnCancelar);
        buttonBox.setSpacing(10);

        // Añadir todo al layout
        getChildren().addAll(title, form, buttonBox);
    }

    // Métodos getter y setter para los campos (para que puedas acceder a ellos desde los controladores)

    public TextField getNombreField() {
        return nombreField;
    }

    public void setNombreField(TextField nombreField) {
        this.nombreField = nombreField;
    }

    public ComboBox<Raza> getRazaCombo() {
        return razaCombo;
    }

    public void setRazaCombo(ComboBox<Raza> razaCombo) {
        this.razaCombo = razaCombo;
    }

    public TextField getSexoField() {
        return sexoField;
    }

    public void setSexoField(TextField sexoField) {
        this.sexoField = sexoField;
    }

    public ComboBox<Religion> getReligionCombo() {
        return religionCombo;
    }

    public void setReligionCombo(ComboBox<Religion> religionCombo) {
        this.religionCombo = religionCombo;
    }

    public ComboBox<O_Nacion> getNacionCombo() {
        return nacionCombo;
    }

    public void setNacionCombo(ComboBox<O_Nacion> nacionCombo) {
        this.nacionCombo = nacionCombo;
    }

    public Spinner<Integer> getEdadSpinner() {
        return edadSpinner;
    }

    public void setEdadSpinner(Spinner<Integer> edadSpinner) {
        this.edadSpinner = edadSpinner;
    }

    public ComboBox<Clase> getClaseCombo() {
        return claseCombo;
    }

    public void setClaseCombo(ComboBox<Clase> claseCombo) {
        this.claseCombo = claseCombo;
    }

    public ListView<Ideologia> getIdeologiaList() {
        return ideologiaList;
    }

    public void setIdeologiaList(ListView<Ideologia> ideologiaList) {
        this.ideologiaList = ideologiaList;
    }

    public RazaCRUD getRazaCrud() {
        return razaCrud;
    }

    public void setRazaCrud(RazaCRUD razaCrud) {
        this.razaCrud = razaCrud;
    }

    public ReligionCRUD getReligionCrud() {
        return religionCrud;
    }

    public void setReligionCrud(ReligionCRUD religionCrud) {
        this.religionCrud = religionCrud;
    }

    public NacionCRUD getNacionCrud() {
        return nacionCrud;
    }

    public void setNacionCrud(NacionCRUD nacionCrud) {
        this.nacionCrud = nacionCrud;
    }

    public ClaseCRUD getClaseCrud() {
        return claseCrud;
    }

    public void setClaseCrud(ClaseCRUD claseCrud) {
        this.claseCrud = claseCrud;
    }

    public IdeologiaCRUD getIdeologiaCrud() {
        return ideologiaCrud;
    }

    public void setIdeologiaCrud(IdeologiaCRUD ideologiaCrud) {
        this.ideologiaCrud = ideologiaCrud;
    }

	public Button getBtnCrear() {
		return btnCrear;
	}

	public void setBtnCrear(Button btnCrear) {
		this.btnCrear = btnCrear;
	}

	public Button getBtnCancelar() {
		return btnCancelar;
	}

	public void setBtnCancelar(Button btnCancelar) {
		this.btnCancelar = btnCancelar;
	}
    
    
}
